#### теорема замены - если у нас есть формула $\phi$ и есть подформула $\psi$, тогда мы можем взять формулу $\psi'$, которая $\psi \sim \psi'$, то если заменить $\psi$ на $\psi'$ в $\phi$, то полученная формула $\phi' \sim \phi$  

##### доказательство
- доказательство по индукции по разности глубин $n = d(\varphi) - d(\psi)$ 
- база индукции: $n = 0 \Rightarrow d(\varphi) = d(\psi) \Rightarrow \varphi = \psi$ 
- пусть утверждение доказано для $n$ нужно доказать его для $n + 1$ 
- пусть $d(\varphi) - d(\psi) = n + 1 > 0$ => имеем несколько вариантов
	- $\varphi = \neg \chi$ 
	- $\varphi = (\chi_1 \land \chi_2)$ 
	- $\varphi = (\chi_1 \lor \chi_2)$ 
	- $\varphi = (\chi_1 \to \chi_2)$ 
- пусть $\phi = \neg \chi, \psi \sqsubseteq \varphi$ => по [[подформула#лемма|лемме 4]] $\psi \sqsubseteq \chi$ 
- тк $d(\chi) = d(\varphi) - 1$, то разность глубин для $\psi$ и $\chi$ будет $d(\chi) - d(\psi) = n$ 
- по предположению индукции, если $\chi^\prime$ - результат замены соответствует вхождения $\psi$ на $\psi^\prime$, то по [[семантическая эквивалентность#лемма 3|лемме 3]]: $\varphi^\prime = \neg \chi^\prime \sim \neg \chi = \varphi$ 
- пусть $\varphi = (\chi_1 \land \chi_2), \psi \sqsubseteq \varphi$ => по [[подформула#лемма|лемме 4]] $\psi \sqsubseteq \chi_1 \lor \psi \sqsubseteq \chi_2$
- пусть для определённости $\psi \sqsubseteq \chi_1$ 
- поскольку $d(\chi_1) \leq d(\varphi) -1$, то разность глубин для $\psi$ и $\chi_1$ будет $d(\chi_1) - d(\psi) \leq n$ 
- по предположению индукции, есть $\chi_1^\prime$ - результат замены соответствующий вхождения $\psi$ в $\chi_1$ на $\psi^\prime$, то по [[семантическая эквивалентность#лемма 3|лемме 3]]: $\varphi^\prime = (\chi_1^\prime \land \chi_2) \sim (\chi_1 \land \chi_2) = \varphi$ 
- остальные случаи доказываются аналогично 
***
#дискретная-математика #логика-высказываний #теорема 